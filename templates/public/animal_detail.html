<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ animal.name }} - Î¥Î¹Î¿Î¸ÎµÏƒÎ¯Î±</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f5f5f5; }
        .header { background: #2c3e50; color: white; padding: 20px; }
        .header-content { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; gap: 20px; }
        .back-btn { background: #34495e; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; }
        .back-btn:hover { background: #4a5f7f; }
        .container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }
        .animal-container { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .animal-header { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; padding: 40px; }
        .photos-section { }
        .main-photo { width: 100%; height: 400px; object-fit: cover; border-radius: 8px; background: #ddd; display: flex; align-items: center; justify-content: center; font-size: 6em; }
        .thumbnail-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 15px; }
        .thumbnail { width: 100%; height: 80px; object-fit: cover; border-radius: 4px; cursor: pointer; border: 2px solid transparent; }
        .thumbnail:hover { border-color: #3498db; }
        .info-section { }
        .animal-name { font-size: 2.5em; color: #2c3e50; margin-bottom: 10px; }
        .status-badge { display: inline-block; padding: 8px 16px; border-radius: 20px; font-weight: bold; margin-bottom: 20px; }
        .status-available { background: #27ae60; color: white; }
        .status-pending { background: #f39c12; color: white; }
        .status-adopted { background: #95a5a6; color: white; }
        .info-grid { display: grid; grid-template-columns: auto 1fr; gap: 15px 30px; font-size: 1.1em; line-height: 1.6; }
        .info-grid strong { color: #2c3e50; }
        .section { padding: 40px; border-top: 1px solid #eee; }
        .section-title { font-size: 1.8em; color: #2c3e50; margin-bottom: 20px; }
        .medical-records { display: grid; gap: 15px; }
        .medical-record { background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #3498db; }
        .medical-record-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .record-type { font-weight: bold; color: #2c3e50; }
        .record-date { color: #7f8c8d; }
        .qr-section { text-align: center; padding: 30px; background: #f8f9fa; }
        .qr-code { max-width: 300px; margin: 20px auto; }
        .contact-section { background: #ecf0f1; }
        .contact-info { font-size: 1.2em; line-height: 2; }
        @media (max-width: 768px) {
            .animal-header { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <a href="{% url 'animals:public_adoption' %}" class="back-btn">â† Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î· Î›Î¯ÏƒÏ„Î±</a>
            <h1>Î›ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚ Î–ÏÎ¿Ï…</h1>
        </div>
    </div>

    <div class="container">
        <div class="animal-container">
            <div class="animal-header">
                <div class="photos-section">
                    {% with primary_photo=animal.photos.first %}
                        {% if primary_photo %}
                            <img src="{{ primary_photo.image.url }}" alt="{{ animal.name }}" class="main-photo" id="mainPhoto">
                        {% else %}
                            <div class="main-photo">
                                {% if animal.species == 'dog' %}ğŸ•{% elif animal.species == 'cat' %}ğŸˆ{% else %}ğŸ¦{% endif %}
                            </div>
                        {% endif %}
                    {% endwith %}
                    
                    {% if animal.photos.all.count > 1 %}
                    <div class="thumbnail-grid">
                        {% for photo in animal.photos.all %}
                            <img src="{{ photo.image.url }}" alt="{{ animal.name }}" class="thumbnail" onclick="document.getElementById('mainPhoto').src='{{ photo.image.url }}'">
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="info-section">
                    <h1 class="animal-name">{{ animal.name }}</h1>
                    
                    {% if animal.adoption_status == 'available' %}
                        <span class="status-badge status-available">âœ“ Î”Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿ Î³Î¹Î± Î¥Î¹Î¿Î¸ÎµÏƒÎ¯Î±</span>
                    {% elif animal.adoption_status == 'pending' %}
                        <span class="status-badge status-pending">â³ Î•ÎºÎºÏÎµÎ¼ÎµÎ¯ Î¥Î¹Î¿Î¸ÎµÏƒÎ¯Î±</span>
                    {% elif animal.adoption_status == 'adopted' %}
                        <span class="status-badge status-adopted">ğŸ  Î¥Î¹Î¿Î¸ÎµÏ„Î®Î¸Î·ÎºÎµ</span>
                    {% endif %}

                    <div class="info-grid">
                        <strong>Î‘Î½Î±Î³Î½Ï‰ÏÎ¹ÏƒÏ„Î¹ÎºÏŒ:</strong>
                        <span>{{ animal.chip_id }}</span>

                        <strong>Î•Î¯Î´Î¿Ï‚:</strong>
                        <span>{{ animal.get_species_display }}</span>

                        <strong>Î¦ÏÎ»Î¿:</strong>
                        <span>{{ animal.get_gender_display }}</span>

                        <strong>Î—Î»Î¹ÎºÎ¯Î±:</strong>
                        <span>
                            {% if animal.age_numeric %}
                                {{ animal.age_numeric }} Î­Ï„Î·
                            {% else %}
                                {{ animal.get_age_category_display }}
                            {% endif %}
                        </span>

                        <strong>Î£Ï…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬:</strong>
                        <span>{{ animal.get_behavior_display }}</span>
                        <strong>Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î¿Î¹ Î•Î¼Î²Î¿Î»Î¹Î±ÏƒÎ¼Î¿Î¯:</strong>
                        <span>
                            {% if animal.vaccinations.exists %}
                                {% for vaccine in animal.vaccinations.all|slice:":2" %}
                                    <div>â€¢ {{ vaccine.get_vaccine_display_name }} - {{ vaccine.date_administered|date:"d/m/Y" }}</div>
                                {% endfor %}
                            {% else %}
                                Î§Ï‰ÏÎ¯Ï‚ ÎºÎ±Ï„Î±Î³ÎµÎ³ÏÎ±Î¼Î¼Î­Î½Î¿Ï…Ï‚ ÎµÎ¼Î²Î¿Î»Î¹Î±ÏƒÎ¼Î¿ÏÏ‚
                            {% endif %}
                        </span>

                        <strong>Î£Ï„ÎµÎ¯ÏÏ‰ÏƒÎ·:</strong>
                        <span>{{ animal.get_sterilization_status_display }}</span>

                        {% if animal.cage_number %}
                        <strong>ÎšÎ»Î¿Ï…Î²Î¯:</strong>
                        <span>{{ animal.cage_number }}</span>
                        {% endif %}

                        <strong>ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î¥Î³ÎµÎ¯Î±Ï‚:</strong>
                        <span>
                            {% if animal.injured %}
                                âš ï¸ Î¤ÏÎ±Ï…Î¼Î±Ï„Î¹ÏƒÎ¼Î­Î½Î¿
                            {% else %}
                                âœ“ Î¥Î³Î¹Î­Ï‚
                            {% endif %}
                        </span>

                        <strong>Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î•Î¹ÏƒÎ±Î³Ï‰Î³Î®Ï‚:</strong>
                        <span>{{ animal.entry_date|date:"d/m/Y" }}</span>

                        {% if animal.capture_location %}
                        <strong>Î¤Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î± Î•ÏÏÎµÏƒÎ·Ï‚:</strong>
                        <span>{{ animal.capture_location }}</span>
                        {% endif %}
                    </div>
                </div>
            </div>

            {% if animal.medical_records.all %}
            <div class="section">
                <h2 class="section-title">ğŸ“‹ Î™Î±Ï„ÏÎ¹ÎºÏŒ Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ</h2>
                <div class="medical-records">
                    {% for record in animal.medical_records.all %}
                    <div class="medical-record">
                        <div class="medical-record-header">
                            <span class="record-type">{{ record.get_record_type_display }}</span>
                            <span class="record-date">{{ record.date_recorded|date:"d/m/Y" }}</span>
                        </div>
                        <div>{{ record.description }}</div>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}

            {% if animal.qr_code %}
            <div class="section qr-section">
                <h2 class="section-title">QR Code</h2>
                <p>Î£ÎºÎ±Î½Î¬ÏÎµÏ„Îµ Î³Î¹Î± Î³ÏÎ®Î³Î¿ÏÎ· Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î¹Ï‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚</p>
                <div class="qr-code">
                    <img src="{{ animal.qr_code.url }}" alt="QR Code" style="width: 100%; border: 1px solid #ddd; border-radius: 8px;">
                </div>
            </div>
            {% endif %}

            <div class="section contact-section">
                <h2 class="section-title">ğŸ“ Î•Ï€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î±</h2>
                <div class="contact-info">
                    <p><strong>Î•Î½Î´Î¹Î±Ï†Î­ÏÎµÏƒÏ„Îµ Î½Î± Ï…Î¹Î¿Î¸ÎµÏ„Î®ÏƒÎµÏ„Îµ Ï„Î¿ {{ animal.name }};</strong></p>
                    <p>Î•Ï€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î®ÏƒÏ„Îµ Î¼Îµ Ï„Î¿ ÎºÎ±Ï„Î±Ï†ÏÎ³Î¹Î¿ Î³Î¹Î± Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚.</p>
                    {% if animal.finder_contact %}
                    <p><strong>Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Î± Î•Ï€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î±Ï‚:</strong> {{ animal.finder_contact }}</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</body>
</html>
